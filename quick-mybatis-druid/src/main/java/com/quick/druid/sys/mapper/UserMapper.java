package com.quick.druid.sys.mapper;

import com.quick.druid.sys.entity.User;
import com.baomidou.mybatisplus.core.mapper.BaseMapper;
import org.apache.ibatis.annotations.Select;

/**
 * <p>
 *  Mapper 接口
 * </p>
 *
 * @author vector4wang
 * @since 2019-12-19
 */
public interface UserMapper extends BaseMapper<User> {

    @Select("<script>"" SELECT ""   d.depot_id depotId, ""   d.depot_code depotCode, ""   d.depot_name depotName, ""   d.depot_level depotLevel, ""   CASE d.depot_level ""WHEN 'ZZC04-YJ' THEN ""   '中转场' ""WHEN 'DB05-JPZ' THEN ""   '快运集配站' ""WHEN 'ZZC04-ERJ' THEN ""   '快运中转场' ""WHEN 'DB05-DB' THEN ""   '终端' ""END depotLevelStr, ""( ""   SELECT ""      GROUP_CONCAT(DISTINCT manage_code) ""   FROM ""      tc_principal p ""   INNER JOIN ti_user u ON p.manage_code = u.user_code ""   AND( ""      u.end_day > NOW() ""      OR u.end_day IS NULL ""   ) ""   INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""   AND m.perm_id = #{permId} ""   WHERE ""      depot_code = d.depot_code ""   AND user_type = 10 ""   AND is_deleted = 0 "")AS depotManagerCode, ""( ""   SELECT ""      GROUP_CONCAT(DISTINCT manage_name) ""   FROM ""      tc_principal p ""   INNER JOIN ti_user u ON p.manage_code = u.user_code ""   AND( ""      u.end_day > NOW() ""      OR u.end_day IS NULL ""   ) ""   INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""   AND m.perm_id = #{permId} ""   WHERE ""      depot_code = d.depot_code ""   AND user_type = 10 ""   AND is_deleted = 0 "")AS depotManagerName, "" a.area_id areaId, "" a.area_code areaCode, "" a.area_name areaName, "" CASE d.depot_level ""WHEN 'ZZC04-YJ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(DISTINCT manage_code) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         area_code = a.area_code ""      AND user_type = 21 ""      AND is_deleted = 0 ""   ) ""WHEN 'DB05-JPZ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(DISTINCT manage_code) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         area_code = a.area_code ""      AND user_type = 22 ""      AND is_deleted = 0 ""   ) ""WHEN 'ZZC04-ERJ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(DISTINCT manage_code) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         area_code = a.area_code ""      AND user_type = 24 ""      AND is_deleted = 0 ""   ) ""WHEN 'DB05-DB' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(DISTINCT manage_code) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         area_code = a.area_code ""      AND user_type = 23 ""      AND is_deleted = 0 ""   ) ""END areaManagerCode, "" CASE d.depot_level ""WHEN 'ZZC04-YJ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(DISTINCT manage_name) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         area_code = a.area_code ""      AND user_type = 21 ""      AND is_deleted = 0 ""   ) ""WHEN 'DB05-JPZ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(DISTINCT manage_name) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         area_code = a.area_code ""      AND user_type = 22 ""      AND is_deleted = 0 ""   ) ""WHEN 'ZZC04-ERJ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(DISTINCT manage_name) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         area_code = a.area_code ""      AND user_type = 24 ""      AND is_deleted = 0 ""   ) ""WHEN 'DB05-DB' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(DISTINCT manage_name) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         area_code = a.area_code ""      AND user_type = 23 ""      AND is_deleted = 0 ""   ) ""END areaManagerName, "" n.area_id nationId, "" n.area_code nationCode, "" n.area_name nationName, "" CASE d.depot_level ""WHEN 'ZZC04-YJ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(manage_code) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         user_type = 31 ""      AND is_deleted = 0 ""   ) ""WHEN 'DB05-JPZ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(manage_code) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         user_type = 32 ""      AND is_deleted = 0 ""   ) ""WHEN 'ZZC04-ERJ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(manage_code) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         user_type = 35 ""      AND is_deleted = 0 ""   ) ""WHEN 'DB05-DB' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(manage_code) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         user_type = 33 ""      AND is_deleted = 0 ""   ) ""END nationManagerCode, "" CASE d.depot_level ""WHEN 'ZZC04-YJ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(manage_name) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         user_type = 31 ""      AND is_deleted = 0 ""   ) ""WHEN 'DB05-JPZ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(manage_name) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         user_type = 32 ""      AND is_deleted = 0 ""   ) ""WHEN 'ZZC04-ERJ' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(manage_name) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         user_type = 35 ""      AND is_deleted = 0 ""   ) ""WHEN 'DB05-DB' THEN ""   ( ""      SELECT ""         GROUP_CONCAT(manage_name) ""      FROM ""         tc_principal p ""      INNER JOIN ti_user u ON p.manage_code = u.user_code ""      AND( ""         u.end_day > NOW() ""         OR u.end_day IS NULL ""      ) ""      INNER JOIN tc_role_perm m ON m.user_id = u.user_id ""      AND m.perm_id = #{permId} ""      WHERE ""         user_type = 33 ""      AND is_deleted = 0 ""   ) ""END nationManagerName ""FROM ""   ti_depot d, ""   ti_area a, ""   ti_area n ""WHERE ""   d.area_id = a.area_id ""AND n.area_id = a.parent_area_id ""AND d.is_deleted = 0 ""AND d.depot_id = #{depotId} ""</script>")
    public Object select();


    @Select({"<script>",
            "select * from xxx where id=#{para}",
            "</script>"})
    public Object select2();
}
